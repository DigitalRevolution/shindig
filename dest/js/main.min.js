"use strict";function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("location"),{types:["geocode"]}),autocomplete.addListener("place_changed",function(){autocomplete.getPlace()})}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(s){var e={lat:s.coords.latitude,lng:s.coords.longitude},t=new google.maps.Circle({center:e,radius:s.coords.accuracy});autocomplete.setBounds(t.getBounds())})}$(function(){function s(s,e,t,a){$(s).text(""),""!=$(t).val()?($(e).removeClass("glyphicon-remove"),$(e).addClass("glyphicon-ok"),$(t).closest("div").removeClass("has-error"),$(t).closest("div").addClass("has-success")):($(e).addClass("glyphicon-remove"),$(t).closest("div").removeClass("has-success"),$(t).closest("div").addClass("has-error"),$(s).text(a)),$(e).css("visibility","visible")}$("#eventname").on("focusout",function(){s("span.event-name-msg","span.nameresponse","#eventname","Parties need names homie.")}),$("#eventtype").on("focusout",function(){s("span.event-type-msg","span.typeresponse","#eventtype","Should I wear my birthday suit?")}),$("#eventhost").on("focusout",function(){s("span.event-host-msg","span.whoresponse","#eventhost","Take me to your leader!")}),$("#startdate").on("focusout",function(){s("span.event-startdate-msg","span.startdateresponse","#startdate")}),$("#starttime").on("focusout",function(){s("span.event-starttime-msg","span.starttimeresponse","#starttime")}),$("#enddate").on("focusout",function(){s("span.event-enddate-msg","span.enddateresponse","#enddate")}),$("#endtime").on("focusout",function(){s("span.event-endtime-msg","span.endtimeresponse","#endtime")}),$("#eventdeets").on("focusout",function(){s("span.event-details-msg","span.deetresponse","#eventdeets","Gimme the deets!")}),$("#location").on("focusout",function(){s("span.event-location-msg","span.locationfeedback","#location","Where we goin?")})}),$(function(){var s={},e={},t=new Firebase("https://shindig.firebaseio.com/events"),a=new Firebase("https://shindig.firebaseio.com/users");$("#newShindig").submit(function(e){e.preventDefault(),s.name=$("#eventname").val(),s.type=$("#eventtype").val(),s.host=$("#eventhost").val(),s.startDate=$("#startdate").val(),s.startTime=$("#starttime").val(),s.endDate=$("#enddate").val(),s.endTime=$("#endtime").val(),s.details=$("#eventdeets").val(),s.location=$("#location").val(),t.push(s,function(){$("input[type=text], input[type=date], input[type=time], textarea").val(""),window.location="../"})}),$("#newUser").submit(function(s){s.preventDefault(),e.name=$("#name").val(),e.email=$("#email").val(),e.password=$("#password").val(),a.push(e,function(){window.location="../"})}),t.once("value",function(s){var e="";s.forEach(function(s){var t=s.val();e+='<table class = "table table-striped table-bordered">',e+="<tr><td>Event Name: </td><td> "+t.name+"</td></tr>",e+="<tr><td>Event Type: </td><td> "+t.type+"</td></tr>",e+="<tr><td>Event Host: </td><td> "+t.host+"</td></tr>",e+="<tr><td>Event Location: </td><td> "+t.location+"</td></tr>",e+="<tr><td>Event Start: </td><td> "+t.startDate+" at "+t.startTime+"</td></tr>",e+="<tr><td>Event End: </td><td> "+t.endDate+" at "+t.endTime+"</td></tr>",e+="<tr><td>Event Details: </td><td> "+t.details+"</td></tr>",e+="</table>"}),$(".output").html(e)})});var autocomplete;$(function(){function s(s,e,t,a){$(s).text(""),""!=$(t).val()?($(e).removeClass("glyphicon-remove"),$(e).addClass("glyphicon-ok"),$(t).closest("div").removeClass("has-error"),$(t).closest("div").addClass("has-success"),l.name=!0):($(e).addClass("glyphicon-remove"),$(t).closest("div").removeClass("has-success"),$(t).closest("div").addClass("has-error"),$(s).text(a),l.name=!1),$(e).css("visibility","visible"),i(l)}function e(s){var e=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return e.test(s)}function t(s){var e="pass",t="<ul>",o=new RegExp(/[\!\@\#\$\%\^\&\*]/g),n=new RegExp(/\d/g),i=new RegExp(/[a-z]/g),l=new RegExp(/[A-Z]/g),r=new RegExp(/[^A-z0-9\!\@\#\$\%\^\&\*]/g);(s.length<16||s.length>100)&&(t+="<li>Password must be between 16 and 100 characters</li>",e="fail"),o.test(s)||(t+="<li>Password must contain at least one special character ( ! @ # $ % ^ & * )</li>",e="fail"),n.test(s)||(t+="<li>Password must contain at least one number.</li>",e="fail"),i.test(s)||(t+="<li>Password must contain at least one lowercase number.</li>",e="fail"),l.test(s)||(t+="<li>Password must contain at least uppercase letter.</li>",e="fail"),r.test(s)&&(t+="<li>Password must not contain any illegal characters.</li>",e="fail"),t+="</ul>",$("span.password-msg").html(t),a(e)}function a(s){"pass"===s?($(".passwordresonse").removeClass("glyphicon-remove"),$(".passwordresonse").addClass("glyphicon-ok"),$("#password").closest("div").removeClass("has-error"),$("#password").closest("div").addClass("has-success"),l.pass=!0):($(".passwordresonse").addClass("glyphicon-remove"),$("#password").closest("div").removeClass("has-success"),$("#password").closest("div").addClass("has-error"),l.pass=!1),$(".passwordresonse").css("visibility","visible"),i(l)}function o(){var s="fail";$("#password").val()===$("#password2").val()&&""!=$("#password2").val()&&(s="pass"),n(s)}function n(s){$("span.password2-msg").text(""),"pass"===s?($(".password2resonse").removeClass("glyphicon-remove"),$(".password2resonse").addClass("glyphicon-ok"),$("#password2").closest("div").removeClass("has-error"),$("#password2").closest("div").addClass("has-success"),l.pass2=!0):($(".password2resonse").addClass("glyphicon-remove"),$("#password2").closest("div").removeClass("has-success"),$("#password2").closest("div").addClass("has-error"),$("span.password2-msg").text("Passwords do not match"),l.pass2=!1),$(".password2resonse").css("visibility","visible")}function i(s){s.name===!0&&s.email===!0&&s.pass&&s.pass2?$(".register-submit").css("visibility","visible"):$(".register-submit").css("visibility","hidden")}var l={};$("#name").bind("keyup blur",function(){s("span.name-msg","span.newnameresponse","#name","Hey, whatsyerface.")}),$("#email").bind("blur keyup",function(){var s=$("#email").val();$("span.email-msg").text(""),e(s)===!0?($("span.emailresponse").removeClass("glyphicon-remove"),$("span.emailresponse").addClass("glyphicon-ok"),$("#email").closest("div").removeClass("has-error"),$("#email").closest("div").addClass("has-success"),l.email=!0):($("span.emailresponse").addClass("glyphicon-remove"),$("#email").closest("div").removeClass("has-success"),$("#email").closest("div").addClass("has-error"),$("span.email-msg").text("How am I supposed to get in touch?"),l.email=!1),$("span.emailresponse").css("visibility","visible"),i(l)}),$("#password").bind("keyup blur",function(){var s=$("#password").val();t(s)}),$("#password2").bind("keyup blur",function(){o(),i(l)})});
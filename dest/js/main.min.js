"use strict";function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("location"),{types:["geocode"]}),autocomplete.addListener("place_changed",function(){autocomplete.getPlace()})}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var s={lat:e.coords.latitude,lng:e.coords.longitude},t=new google.maps.Circle({center:s,radius:e.coords.accuracy});autocomplete.setBounds(t.getBounds())})}$(function(){function e(e,t,a,n){$(e).text(""),s=!1,""!=$(a).val()?($(t).removeClass("glyphicon-remove"),$(t).addClass("glyphicon-ok"),$(a).closest("div").removeClass("has-error"),$(a).closest("div").addClass("has-success"),s=!0):($(t).addClass("glyphicon-remove"),$(a).closest("div").removeClass("has-success"),$(a).closest("div").addClass("has-error"),$(e).text(n),s=!1),$(t).css("visibility","visible")}var s,t={};$("#eventname").bind("keyup blur",function(){e("span.event-name-msg","span.nameresponse","#eventname","Parties need names homie."),t.name=s}),$("#eventtype").bind("keyup blur",function(){e("span.event-type-msg","span.typeresponse","#eventtype","I need to decide what to wear..."),t.type=s}),$("#eventhost").bind("keyup blur",function(){e("span.event-host-msg","span.whoresponse","#eventhost","Take me to your leader!"),t.host=s}),$("#startdate").bind("keyup blur",function(){e("span.event-startdate-msg","span.startdateresponse","#startdate"),t.sdate=s}),$("#starttime").bind("keyup blur",function(){e("span.event-starttime-msg","span.starttimeresponse","#starttime"),t.stime=s}),$("#enddate").bind("keyup blur",function(){e("span.event-enddate-msg","span.enddateresponse","#enddate"),t.edate=s}),$("#endtime").bind("keyup blur",function(){e("span.event-endtime-msg","span.endtimeresponse","#endtime"),t.etime=s}),$("#eventdeets").bind("keyup blur",function(){e("span.event-details-msg","span.deetresponse","#eventdeets","Gimme the deets!"),t.deets=s}),$("#location").bind("keyup blur",function(){e("span.event-location-msg","span.locationfeedback","#location","Where we goin?"),t.location=s}),$(document).bind("keyup change",function(){t.name===!0&&t.type===!0&&t.host===!0&&t.sdate===!0&&t.stime===!0&&t.edate===!0&&t.etime===!0&&t.deets===!0&&t.location===!0?$("input.submit-button").removeClass("hidden"):$("input.submit-button").addClass("hidden")})}),$(function(){var e={},s={},t=new Firebase("https://shindig.firebaseio.com/events"),a=new Firebase("https://shindig.firebaseio.com/users");$("#newShindig").submit(function(s){s.preventDefault(),e.name=$("#eventname").val(),e.type=$("#eventtype").val(),e.host=$("#eventhost").val(),e.startDate=$("#startdate").val(),e.startTime=$("#starttime").val(),e.endDate=$("#enddate").val(),e.endTime=$("#endtime").val(),e.details=$("#eventdeets").val(),e.location=$("#location").val(),t.push(e,function(){$("input[type=text], input[type=date], input[type=time], textarea").val(""),window.location="../"})}),$("#newUser").submit(function(e){e.preventDefault(),s.name=$("#name").val(),s.email=$("#email").val(),s.password=$("#password").val(),s.details=$("#memberdeets").val(),a.push(s,function(){window.location="../"})}),t.orderByChild("startDate").limitToFirst(3).once("value",function(e){var s="";e.forEach(function(e){var t=e.val();s+='<table class = "table table-striped table-bordered">',s+="<tr><td>Event Name: </td><td> "+t.name+"</td></tr>",s+="<tr><td>Event Type: </td><td> "+t.type+"</td></tr>",s+="<tr><td>Event Host: </td><td> "+t.host+"</td></tr>",s+="<tr><td>Event Location: </td><td> "+t.location+"</td></tr>",s+="<tr><td>Event Start: </td><td> "+t.startDate+" at "+t.startTime+"</td></tr>",s+="<tr><td>Event End: </td><td> "+t.endDate+" at "+t.endTime+"</td></tr>",s+="<tr><td>Event Details: </td><td> "+t.details+"</td></tr>",s+="</table>"}),$(".output").html(s)})});var autocomplete;$(function(){function e(e,s,t,a){$(e).text(""),""!=$(t).val()?($(s).removeClass("glyphicon-remove"),$(s).addClass("glyphicon-ok"),$(t).closest("div").removeClass("has-error"),$(t).closest("div").addClass("has-success"),i.name=!0):($(s).addClass("glyphicon-remove"),$(t).closest("div").removeClass("has-success"),$(t).closest("div").addClass("has-error"),$(e).text(a),i.name=!1),$(s).css("visibility","visible")}function s(e){var s=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return s.test(e)}function t(e){var s="pass",t="<ul>",n=new RegExp(/[\!\@\#\$\%\^\&\*]/g),o=new RegExp(/\d/g),i=new RegExp(/[a-z]/g),d=new RegExp(/[A-Z]/g),l=new RegExp(/[^A-z0-9\!\@\#\$\%\^\&\*]/g);(e.length<16||e.length>100)&&(t+="<li>Password must be between 16 and 100 characters.</li>",s="fail"),n.test(e)||(t+="<li>Password must contain at least one special character ( ! @ # $ % ^ & * ).</li>",s="fail"),o.test(e)||(t+="<li>Password must contain at least one number.</li>",s="fail"),i.test(e)||(t+="<li>Password must contain at least one lowercase number.</li>",s="fail"),d.test(e)||(t+="<li>Password must contain at least uppercase letter.</li>",s="fail"),l.test(e)&&(t+="<li>Password must not contain any illegal characters.</li>",s="fail"),t+="</ul>",$("span.password-msg").html(t),a(s)}function a(e){"pass"===e?($(".passwordresonse").removeClass("glyphicon-remove"),$(".passwordresonse").addClass("glyphicon-ok"),$("#password").closest("div").removeClass("has-error"),$("#password").closest("div").addClass("has-success"),i.pass=!0):($(".passwordresonse").addClass("glyphicon-remove"),$("#password").closest("div").removeClass("has-success"),$("#password").closest("div").addClass("has-error"),i.pass=!1),$(".passwordresonse").css("visibility","visible")}function n(){var e="fail";$("#password").val()===$("#password2").val()&&""!=$("#password2").val()&&(e="pass"),o(e)}function o(e){$("span.password2-msg").text(""),"pass"===e?($(".password2resonse").removeClass("glyphicon-remove"),$(".password2resonse").addClass("glyphicon-ok"),$("#password2").closest("div").removeClass("has-error"),$("#password2").closest("div").addClass("has-success"),i.pass2=!0):($(".password2resonse").addClass("glyphicon-remove"),$("#password2").closest("div").removeClass("has-success"),$("#password2").closest("div").addClass("has-error"),$("span.password2-msg").text("Passwords do not match"),i.pass2=!1),$(".password2resonse").css("visibility","visible")}var i={};$("#name").bind("keyup blur",function(){e("span.name-msg","span.newnameresponse","#name","Hey, whatsyerface. ;)")}),$("#email").bind("blur keyup",function(){var e=$("#email").val();$("span.email-msg").text(""),s(e)===!0?($("span.emailresponse").removeClass("glyphicon-remove"),$("span.emailresponse").addClass("glyphicon-ok"),$("#email").closest("div").removeClass("has-error"),$("#email").closest("div").addClass("has-success"),i.email=!0):($("span.emailresponse").addClass("glyphicon-remove"),$("#email").closest("div").removeClass("has-success"),$("#email").closest("div").addClass("has-error"),$("span.email-msg").text("We won't spam you, we promise"),i.email=!1),$("span.emailresponse").css("visibility","visible")}),$("#password").bind("keyup blur",function(){var e=$("#password").val();t(e)}),$("#password2").bind("keyup blur",function(){n()}),document.onkeyup=function(){i.name===!0&&i.email===!0&&i.pass&&i.pass2?($(".member-submit-button").removeClass("hidden"),$("div.bioarea").addClass("has-success")):($(".member-submit-button").addClass("hidden"),$("div.bioarea").removeClass("has-success"))}});